require.config(requireConfig),require(["jquery","fastClick","FullPage","ct","bridge","juicer"],function(e,t,n,o,i,a){var c=(e(".mask"),Object.create(o.Prompt));c.create().build();var s=Object.create(o.Mask);s.create().build();o.Tool.local();o.Tool.buryPoint();var r={start:function(){console.log("开始执行！");var n=this;t.attach(document.body),o.Tool.setFont(),o.Tool.handleBottomStatusBar(),window.addEventListener("resize",o.Tool.debounce(o.Tool.setFont)),window.addEventListener("resize",o.Tool.debounce(o.Tool.handleBottomStatusBar));var i=Object.create(o.PreLodingUi);i.create({preLoadingCls:"loading-bg-color",loadingEleCls:"loading-ele-color"}).build();var a=null;clearTimeout(a),a=setTimeout(function(){i.hide()},500),o.Tool.imgPreLoad({callback:function(){this.hintLog("图片加载完成");var e=null;clearTimeout(e),e=setTimeout(function(){i.hide(),n.init()},500)}}),e.ajax({type:"POST",dataType:"JSON",url:"/act/act170705/get_judge",data:JSON.stringify({place_cid:o.Tool.userAgent().isGjj?1:0,tag:"进入页面"+projectName}),success:function(e){console.log("初始化请求：",n),1==e.success?(console.log(e),1==e.ret.have_new&&(a=setTimeout(function(){a=setTimeout(function(){s.show(),n.tpShow(e)},500)},200))):c.show(e.msg||"出错了请重试")}})},init:function(){var t=this;e(".wp").removeClass("hide"),t.openRule(),t.closeRule(),t.grabBonus(),t.share()},tpShow:function(t){console.log("tpShow:",this);var n=this,o=new Image,i=t.ret.gift_price;o.dataset.src="<?php echo $imgUrl; ?>bonus_"+i+".png",o.src="http://r.51gjj.com/act/release/img/20170705_bonus_"+i+".png",o.alt="弹屏"+i;var a=e(".tp-img-container")[0];a.appendChild(o),e(".tp-img-container").fadeIn(),e(".tp-apply").show(),e(".content").on("click",".tp-img-container",function(){e(".bonus-rain").fadeOut(),n.tpHide()}),e(".content").on("click",".tp-apply",function(){timer=setTimeout(function(){n.tpHide(),window.location.href=t.ret.url},1500)})},toApp:function(e){var t=null;clearTimeout(t),t=setTimeout(function(){t=setTimeout(function(){window.location.href=e.ret.url},1500)},200)},bonusRaining:function(){e(".bonus-rain").show();var t=parseInt(300*Math.random()+300),n=parseInt(1600*Math.random()+0),o=parseInt(10*Math.random()+-10);e(".bonus-rain").prepend('<div class="dd"></div>'),e(".bonus-rain").children("div").eq(0).css({left:n,top:o}),e(".bonus-rain").children("div").eq(0).animate({left:n-t,top:e(window).height()+20},1e3)},shakeHand:function(){var t=null;clearTimeout(t),e(".bonus-shake").addClass("hand-shake"),e(".bonus1").fadeOut(),e(".bonus2").fadeOut(),e(".bonus3").fadeOut()},tpHide:function(){s.hide(),e(".tp-img-container").fadeOut(),e(".tp-apply").hide(),e(".bonus-shake").removeClass("hand-shake"),e(".bonus1").fadeIn(),e(".bonus2").fadeIn(),e(".bonus3").fadeIn()},grabBonus:function(){var t=this;console.log(t),e(".content").on("click",".btn",function(){e.ajax({type:"POST",dataType:"JSON",url:"/act/act170705/get_status",success:function(e){var n=null;console.log(e),1==e.success?1==e.ret.weChat?t.toApp(e):1==e.ret.qq?t.toApp(e):0==e.ret.login?i&&i.action("login"):1==e.ret.have_new?timer=setTimeout(function(){timer=setTimeout(function(){window.location.href=e.ret.url},1e3)},200):1==e.ret.apply?(c.show("暂不符合要求，去看看其他业务吧~"),timer=setTimeout(function(){timer=setTimeout(function(){window.location.href=e.ret.url},1500)},200)):(t.shakeHand(),n=setInterval(t.bonusRaining,30),timer=setTimeout(function(){timer=setTimeout(function(){s.show(),t.tpShow(e),clearInterval(n)},1e3)},200)):c.show(e.msg||"出错了请重试")}})})},openRule:function(){e(".content").on("click",".rule-btn",function(t){s.show(),console.log("event target:"+t.target);var n=e("#tpl-rule").html(),o=a(n,l);e("body").append(o),e(".rule").fadeIn()})},closeRule:function(){e("body").on("click",".btn-close",function(){e(".rule").fadeOut(function(){s.hide()})})},share:function(){var e=navigator.userAgent,t={mobile:!!e.match(/AppleWebKit.*Mobile.*/),isAndroid:e.indexOf("Android")>-1||e.indexOf("Linux")>-1||e.indexOf("android")>-1,isiOS:/[\w\W]*ios\/[\w\W]+client\/[\w\W]+device\/[\w\W]+theme\/[\w\W]+$/.test(e),webApp:-1==e.indexOf("Safari"),weixin:e.indexOf("MicroMessenger")>-1,isGjj:/^android\/[\w\W]+client\/[\w\W]+theme\/[\w\W]+$/.test(e)||/^[\w\W]*ios\/[\w\W]+client\/[\w\W]+device\/[\w\W]+theme\/[\w\W]+$/.test(e),isAndroidGjj:/^android\/[\w\W]+client\/[\w\W]+theme\/[\w\W]+$/.test(e),isiOSGjj:/^[\w\W]*ios\/[\w\W]+client\/[\w\W]+device\/[\w\W]+theme\/[\w\W]+$/.test(e),isGjjFdjsq:/^android\/[\w\W]+client\/[\w\W]+category\/51fdjsq$/.test(e)},n=window.location.host;return t.isGjj&&i&&i.action("quickIcon",{thumb:"https://r.51gjj.com/image/static/ico_title_share_dark.png",onclick:function(){i.action("ShareTimeline",{title:"5万元3分钟到账，抢最高300元抵息",desc:"30-300元抵息人人有份",thumb:"https://r.51gjj.com/act/release/img/20170705_wxfx_jyd.png",link:"http://"+n+"/act/home/huodong/20170705/"})}}),this}},l={rule:["通过活动页面完成申请或放款，首月还款时直接抵扣还款利息及本金，提前还款、逾期等将无法享受该优惠。","本活动致力于回馈金盈贷新老用户，未申请过金盈贷用户与之前审批通过未放款用户都可参与此活动。","同一用户仅能领取一次，红包券有效期为20天，您需要在失效之前完成放款。","有任何疑问或者帮助可联系客服4008635151。","本商品由51公积金管家提供，与设备生产商Apple Inc.公司无关，杭州煎饼网络技术有限公司拥有在法律允许范围内解释本活动的权利。"]};r.start()});