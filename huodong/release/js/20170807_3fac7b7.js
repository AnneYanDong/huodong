require.config(requireConfig),require(["jquery","fastClick","FullPage","ct","bridge","juicer"],function(e,a,o,t,n){var l=(e(".mask"),Object.create(t.Prompt));l.create().build();var i=Object.create(t.Mask);i.create().build();t.Tool.local();t.Tool.buryPoint();var s,r=[],c=[],u=[],g=null,d=[],p=null,m=[],f=null,h=[],v={iconName:[],start:function(){var o=this;a.attach(document.body),t.Tool.setFont(),t.Tool.handleBottomStatusBar(),window.addEventListener("resize",t.Tool.debounce(t.Tool.setFont)),window.addEventListener("resize",t.Tool.debounce(t.Tool.handleBottomStatusBar));var n=Object.create(t.PreLodingUi);n.create({preLoadingCls:"loading-bg-color",loadingEleCls:"loading-ele-color"}).build(),t.Tool.imgPreLoad({callback:function(){this.hintLog("图片加载完成");var e=null;clearTimeout(e),e=setTimeout(function(){n.hide(),o.init()},500)}}),e.ajax({type:"POST",dataType:"JSON",url:t.Tool.url("/app/request/activity"),data:JSON.stringify({place_cid:t.Tool.userAgent().isGjj?1:0,tag:"进入页面"+projectName}),success:function(e){e.success}})},init:function(){console.log("解析你的公积金活动");e(".wp").removeClass("hide")},fullpage:function(){var a=this,o=document.getElementsByClassName("wp-inner")[0].fullpage({start:0,beforeChange:function(e){var o="page"+(e.next+1);console.log("now",o),a.changeState(o)},afterChange:function(o){a.fullPageObj.stop();var t="page"+(o.cur+1);if("page1"==t&&(e(".page1 li").removeClass("bounce-out"),e(".page1 li").unbind().on("click",function(){var o=e(this);o.attr("disabled","disabled"),c=o.data("loan-total"),u.length=0,u.push(c),console.log("loanTotal",u);var t=null;clearTimeout(t),t=setTimeout(function(){o.addClass("bounce-out"),clearTimeout(t),t=setTimeout(function(){a.fullPageObj.moveTo(1,!0),o.removeAttr("disabled")},1200)},200)}),a.respondState(t)),"page2"==t&&(e(".page1 li").removeClass("bounce-out").removeAttr("disabled"),e(".page2 li").unbind().on("click",function(){var o=e(this);o.attr("disabled","disabled");var t=null;clearTimeout(t),t=setTimeout(function(){o.addClass("bounce-out"),clearTimeout(t),t=setTimeout(function(){a.fullPageObj.moveTo(2,!0)},1200)},200),g=o.data("loan-time"),d.length=0,d.push(g),console.log("点击时time:",d)}),a.respondState(t,0,!0,function(){console.log("返回第一页"),e(".page1 li").removeClass("bounce-out"),u.length=0,c=null,console.log("返回时loanTotal:",u)})),"page3"==t&&(e(".page3 li").unbind().on("click",function(){var o=e(this);o.attr("disabled","disabled");var t=null;clearTimeout(t),t=setTimeout(function(){o.addClass("bounce-out"),clearTimeout(t),t=setTimeout(function(){a.fullPageObj.moveTo(3,!0)},1200)},200),p=o.data("loan-release"),m.length=0,m.push(p)}),a.respondState(t,1,!0,function(){console.log("返回第二页"),e(".page2 li").removeClass("bounce-out").removeAttr("disabled"),d.length=0,g=null})),"page4"==t&&(e(".page4 .circle div").unbind().on("click",function(){var o=e(this);o.attr("disabled","disabled"),f=o.data("loan-focus"),h.length=0,h.push(f),r.length=0,r.push(u,d,m,h);var t=null;clearTimeout(t),t=setTimeout(function(){o.addClass("circle-rotating"),clearTimeout(t),t=setTimeout(function(){a.getAnalysisData()},1200)},200)}),a.respondState(t,2,!0,function(){console.log("返回第三页"),e(".page3 li").removeClass("bounce-out").removeAttr("disabled"),m.length=0,p=null})),"page5"==t){var n=s;e(".page5 .loan-match span").addClass("progress"),e(".page5 .final-loan").unbind().on("click",".final-loan,.finger-box",function(){e(this).attr("disabled","disabled"),e(".page5 .finger").addClass("hide").removeClass("move"),e(".page5 .fingerprint").removeClass("hide"),e(".page5 .finger-scan").removeClass("hide").addClass("finger-scaning"),setTimeout(function(){console.log("dataObj",n),window.location.href=n.url,e(".page5 .fingerprint").addClass("hide"),e(".page5 .finger-scan").addClass("hide").removeClass("finger-scaning")},1e3)}),e(".page5 .content").unbind().on("click",".test-btn",function(){e(".page5 .content .test-btn").attr("disabled","disabled"),timer=setTimeout(function(){a.fullPageObj.moveTo(0,!0),e(".page5 .content .test-btn").removeAttr("disabled"),u.length=0,c=null,d.length=0,g=null,m.length=0,p=null,h.length=0,f=null,r.length=0,e(".page1 li").removeClass("bounce-out"),e(".page2 li").removeClass("bounce-out"),e(".page3 li").removeClass("bounce-out"),e(".page4 .circle div").removeClass("circle-rotating"),e(".page4 .customization-tp").hide(),e(".page5 .loan-match span").removeClass("progress"),e(".page5 .icon-box").html(""),e(".page5 .loan-name").html(""),e(".page5 .loan-match").html(""),e(".page5 .loan-amount").html(""),e(".page5 .day-rate").html(""),e(".page5 .release-time").html(""),e(".page5 .finger").removeClass("hide").addClass("move"),e(".page5 .fingerprint").addClass("hide"),e(".page5 .finger-scan").addClass("hide").removeClass("finger-scaning")},500)}),a.respondState(t,3,!0,function(){console.log("返回第四页"),e(".page4 .circle div").removeClass("circle-rotating").removeAttr("disabled"),e(".page5 .loan-match span").removeClass("progress"),e(".page5 .finger").removeClass("hide").addClass("move"),e(".page5 .fingerprint").addClass("hide"),e(".page5 .finger-scan").addClass("hide").removeClass("finger-scaning"),h.length=0,f=null,r.length=0,e(".page4 .customization-tp").hide()})}}});return o},getAnalysisData:function(){var a=this;console.log("请求传递的数据：",r),e.ajax({type:"POST",dataType:"JSON",data:JSON.stringify(r),url:"/act/act170801/get_button",success:function(o){o.success?(s=o.ret.data,console.log("data->",s),1==s.sex&&(e(".page4 .customization-tp").fadeIn(),a.showAnalyzeProcess(0),a.showIcon(),a.getLoanInfo(),setTimeout(function(){a.fullPageObj.moveTo(4,!0),e(".page4 .analyzing-process div").removeClass("analyzing").addClass("hide")},5e3)),2==s.sex&&(e(".page4 .customization-tp .male").hide(),e(".page4 .customization-tp").fadeIn(),e(".page4 .customization-tp .female").show(),a.showAnalyzeProcess(0),a.showIcon(),a.getLoanInfo(),setTimeout(function(){a.fullPageObj.moveTo(4,!0),e(".page4 .analyzing-process div").removeClass("analyzing").addClass("hide")},5e3))):l.show(o.msg||"出错了请重试")}})},changeState:function(e){window.history.pushState&&window.history.pushState({title:e},e,"index.php#page="+e)},respondState:function(e,a,o,l){var i=this,s=t.Tool.userAgent();n&&s.isGjj?n.onBack(function(){return"page1"==e?!1:(o?i.fullPageObj.moveTo(a,!0):i.fullPageObj.moveTo(a),l&&l(),!0)}):window.onpopstate=function(){o?(console.log(i.fullPageObj),i.fullPageObj.moveTo(a,!0)):i.fullPageObj.moveTo(a),l&&l()}}};v.start()});