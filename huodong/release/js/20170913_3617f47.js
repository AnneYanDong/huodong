require.config(requireConfig),define(["jquery","ct","bridge","Vue","FullPage"],function(e,t,o,a){var n=Object.create(t.Prompt);n.create().build();var s=Object.create(t.Mask);s.create().build();var i=t.Tool.local(),c=t.Tool.userAgent(),u=Object.create(t.Cookie);t.Tool.buryPoint_v2(0),t.Tool.share(88,"xykdz3");var r={start:function(){var o=this;t.Tool.setFont(),window.addEventListener("resize",t.Tool.debounce(t.Tool.setFont)),t.Tool.imgPreLoad({callback:function(){this.hintLog("图片加载完成");var e=null;clearTimeout(e),e=setTimeout(function(){o.init()},500)}}),e.ajax({type:"POST",dataType:"JSON",url:t.Tool.url("/act/request/activity"),data:JSON.stringify({source:t.Tool.userAgent().isGjj?1:0,tag:"88_1_0_0_进入页面"}),success:function(e){1==e.success}})},init:function(){var s=this;window.vm=new a({el:".wp",data:{wpShow:!1,pageOneshow:!1,pageTwoshow:!1,pageThreeshow:!1,pageFourshow:!1,pageFiveshow:!1,choose:{cardAmount:0,bank:0},page:{show:null,now:""},maskStatus:!1,ruleStatus:!1},created:function(){},mounted:function(){e(".vue-pre-loading").fadeOut(),this.wpShow=!0,this.$nextTick(function(){s.fullPageObj=this.fullpage()}),this.share()},watch:{"choose.bank":function(){var e=this;0!=e.choose.bank&&(1==e.choose.bank?1==e.choose.cardAmount?e.$set(e.page,"show",e.setData("pufabasa")):e.$set(e.page,"show",e.setData("pufabasa")):2==e.choose.bank&&(1==e.choose.cardAmount?e.$set(e.page,"show",e.setData("xingyejy")):e.$set(e.page,"show",e.setData("xingyelxy"))))}},methods:{fullpage:function(){var e=this,t=e.$refs.wpinner.fullpage({start:0,beforeChange:function(){},afterChange:function(t){s.fullPageObj.stop();var o="page"+t.cur;e.page.now=o,"page0"==o&&(e.respondState(o),e.pageOneshow=!0),"page1"==o&&(e.respondState(o,0),e.pageTwoshow=!0),"page2"==o&&(e.respondState(o,1,function(){e.choose.cardAmount=0}),e.pageThreeshow=!0),"page3"==o&&(1==e.choose.bank?e.respondState(o,2,function(){e.choose.bank=0,e.page.show=null,e.pageFiveshow=!1}):2==e.choose.bank&&e.respondState(o,2,function(){e.choose.bank=0,e.page.show=null,e.pageFiveshow=!1}),e.pageFiveshow=!0),e.pushState(e.page.now)}});return t},startMake:function(e){s.fullPageObj.moveTo(e,!0)},next:function(e,t,o){var a=this;a.choose[e]=t,setTimeout(function(){s.fullPageObj.moveTo(o,!0)},400)},apply:function(){var a=this,s=u.get("jianbing_customer_id");if(o&&c.isGjj&&!/\d/g.test(s))return o.action("login"),!1;var i="88_4_1_"+a.page.show.bankId+"_立即申请"+a.page.show.title;e.ajax({type:"POST",dataType:"JSON",url:t.Tool.url("/act/request/activity"),data:JSON.stringify({source:c.isGjj?1:0,tag:i}),success:function(e){1==e.success}}),e.ajax({type:"POST",dataType:"JSON",url:t.Tool.url("/act/act170913/get_gift"),data:JSON.stringify({type:a.page.show.bankId}),success:function(e){1==e.success?window.location.href=a.page.show.url:n.show(e.msg||"get_gift出错")}})},process:function(){window.location.href=i.origin+"shequ/discovery/index.php?route=account/business&type=3"},showRule:function(){this.ruleStatus=!this.ruleStatus,this.maskStatus=!this.maskStatus},setData:function(e){var t={pufabasa:{title:"浦发巴萨分期白金卡",img:"https://r.51gjj.com/act/release/img/20170526_bs_bj.png",interests:["50万额度尊享白金超多权益","无条件免年费 定期特价饮品","1元机场停车 指定酒店住就送"],activity:["申请送88888理财金（限领一次）,激活再送298元现金红包"],url:"https://b.jianbing.com/business/home/h5/pufafcb/index.php",bankId:"45"},xingyelxy:{title:"兴业立享悠白金卡",img:"https://r.51gjj.com/act/release/img/20170313_xy_lxy.png",interests:["取现0手续费 机场贵宾礼遇","12期6.0%一次性分期费率"],activity:["申请送88888理财金（限领一次）"],url:"https://b.jianbing.com/business/home/h5/xingyeu/index.php",bankId:"34"},xingyejy:{title:"兴业立享精英白金卡",img:"https://r.51gjj.com/act/release/img/20170313_xy_jy.png",interests:["取现0手续费 1000万意外险","12期6.0%一次性分期费率"],activity:["申请送88888理财金（限领一次）"],url:"https://b.jianbing.com/business/home/h5/xingyej/index.php",bankId:"42"}};return t[e]},respondState:function(e,a,n){c.isGjj&&o?o.onBack(function(){return"page0"==e?!1:(s.fullPageObj.moveTo(a,!0),n&&t.Tool.isFunction(n)&&n(),!0)}):window.onpopstate=function(){n&&t.Tool.isFunction(n)&&n(),s.fullPageObj.moveTo(a,!0)}},pushState:function(e){window.history.pushState&&window.history.pushState({title:e},e,"index.php#page="+e)},share:function(){c.isGjj&&o&&o.action("quickIcon",{thumb:"https://r.51gjj.com/image/static/ico_title_share_dark.png",onclick:function(){o.action("ShareTimeline",{title:"公积金定制大额信用卡，白拿8万理财金！",desc:"还有298元现金红包送~",thumb:"https://r.51gjj.com/act/release/img/20170913_wx_xykdz2.png",link:"https://"+i.host+"/act/home/huodong/20170913/index.php#page=page0"})}})}}})}};r.start()});