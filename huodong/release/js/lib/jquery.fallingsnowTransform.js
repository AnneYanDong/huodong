!function(t){t.fn.fallingSnow=function(n){var a,o,i,r,s,e=t.extend({stopOnClick:!0,stopElement:t("#snow"),speedAdjust:2,thicknessAdjust:1,drift:100,opacity:!0},n),d=t(this),f=t(window).width(),h=t(window).height(),l=h+50,m=parseInt(f/14);m=10*Math.round(m/10)/2;for(var p=Math.floor(Math.random()*(m-9))+(m+11),c=0;p>c;c++)a=Math.floor(11*Math.random())*e.thicknessAdjust,o=Math.floor(Math.random()*f),i=Math.floor(Math.random()*h),s=1==e.opacity?Math.floor(3*Math.random()):0,5>a?r=Math.floor(3001*Math.random())+2100:a>5&&9>a?r=Math.floor(2099*Math.random())+1700:a>8&&(r=Math.floor(1699*Math.random())+1e3),r*=e.speedAdjust,d.append('<b class="op'+s+'" style="width: '+a+"px; height: "+a+"px; transform:translate("+o+"px,"+i+"px); transition-duration:"+r+'ms" data-speed="'+r+'"></b>');d.find("b").each(function(){function n(){o.css({transform:"translate("+(r+Math.floor(Math.random()*(m-f+1))+f)+"px,0px)","transition-duration":"0ms","transition-timing-function":"linear"}),o.timer=setTimeout(function(){a()},16)}function a(){o.css({transform:"translate("+(r+Math.floor(Math.random()*(m-f+1))+f)+"px,"+l+"px)","transition-duration":s+"ms","transition-timing-function":"linear","transition-delay":"linear"}),o.timer=setTimeout(function(){n()},s)}var o=t(this),i=parseInt(o.css("transform").split(",")[5]),r=parseInt(o.css("transform").split(",")[4]),s=parseInt(o.attr("data-speed")),d=s-i/h*s,f=-1*e.drift,m=e.drift;o.css({transform:"translate("+(r+Math.floor(Math.random()*(m-f+1))+f)+"px,"+l+"px)","transition-duration":d+"ms","transition-timing-function":"linear"}),setTimeout(function(){n()},d)}),e.stopElement.click(function(){1==e.stopOnClick&&d.find("b").stop(!0)})}}(jQuery);