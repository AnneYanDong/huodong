require.config(requireConfig),define(["jquery","fastClick","ct","bridge","Vue"],function(t,e,a,n,i){var s=Object.create(a.Prompt);s.create().build();var o=Object.create(a.Mask);o.create().build();var l=(a.Tool.local(),a.Tool.userAgent());a.Tool.buryPoint_v2(0),a.Tool.share();var r={start:function(){var n=this;e.attach(document.body),a.Tool.setFont(),window.addEventListener("resize",a.Tool.debounce(a.Tool.setFont));var i=Object.create(a.PreLodingUi);i.create({preLoadingCls:"loading-bg-color",loadingEleCls:"loading-ele-color"}).build(),a.Tool.imgPreLoad({callback:function(){this.hintLog("图片加载完成");var t=null;clearTimeout(t),t=setTimeout(function(){i.hide(),n.init()},500)}}),t.ajax({type:"POST",dataType:"JSON",url:a.Tool.url("/act/request/activity"),data:JSON.stringify({source:a.Tool.userAgent().isGjj?1:0,tag:"87_1_0_33_进入页面"}),success:function(t){1==t.success}})},init:function(){t(".wp").removeClass("hide");new i({el:".content",data:{page:{stepArr:null,slidePos:[],amount:[{amount:160,"class":"p-160",txt:"(到账金额2万以下)"},{amount:260,"class":"p-260",txt:"(2万≤到账金额<4万)"},{amount:360,"class":"p-360",txt:"(到账金额4万及以上)"}],lineFillWidth:"",showAmount:{amount:"160","class":"p-160",txt:"(到账金额2万以下)"},maxIndex:[]},maskStatus:!1,ruleStatus:!1},created:function(){this.setStep()},mounted:function(){this.moveSlideBar()},watch:{"page.lineFillWidth":function(){var e=this,a="";e.page.slidePos.forEach(function(n,i){e.$nextTick(function(){Number(e.page.lineFillWidth.width.split("px")[0])+30-n>=0?(e.pushDiff(i,e.page.maxIndex),a=e.chargeMax(e.page.maxIndex),a==e.page.slidePos.length-1&&(a=e.page.amount.length-1),e.page.showAmount.amount=e.page.amount[a].amount,e.page.showAmount.class=e.page.amount[a].class,e.page.showAmount.txt=e.page.amount[a].txt,t(".circle").eq(i).addClass("active")):(e.popNeed(i,e.page.maxIndex),t(".circle").eq(i).removeClass("active"))})})}},methods:{setStep:function(){var t=this,e=[{style:{left:"2rem"},txt:"20000元"},{style:{left:"4.15rem"},txt:"40000元"}],a={style:{left:"0"},txt:"3000元"},n={style:{right:"-7px"},txt:"50000元"};e.unshift(a),e.push(n),t.page.stepArr=e,t.getPos()},getPos:function(){var e=this;e.$nextTick(function(){t(".circle").each(function(){e.page.slidePos.push(t(this).offset().left)})})},moveSlideBar:function(){function e(t){var e=t.touches[0];o.x=e.clientX,o.y=e.clientY}function a(e){e.preventDefault();var a=e.touches[0];a.clientX<=i.page.slidePos[0]?(t(s).css({transform:"translateX(0px)",webkitTransform:"translateX(0px)"}),i.page.lineFillWidth={width:"0px"}):a.clientX>=i.page.slidePos[i.page.slidePos.length-1]?(t(s).css({transform:"translateX("+(i.page.slidePos[i.page.slidePos.length-1]-i.page.slidePos[0])+"px)",webkitTransform:"translateX("+(i.page.slidePos[i.page.slidePos.length-1]-i.page.slidePos[0])+"px)"}),i.page.lineFillWidth={width:i.page.slidePos[i.page.slidePos.length-1]-i.page.slidePos[0]+"px"}):(t(s).css({transform:"translateX("+(a.clientX-30)+"px)",webkitTransform:"translateX("+(a.clientX-30)+"px)"}),i.page.lineFillWidth={width:a.clientX-30+"px"})}function n(){}var i=this,s=i.$refs.slidebar,o={x:"",y:""};s.addEventListener("touchstart",e),s.addEventListener("touchmove",a),s.addEventListener("touchend",n)},chargeMax:function(t){if(t.length>1)for(var e=t[0],a=0;a<t.length;a++)t[a]>e&&(e=t[a]);else e=t[0];return e},pushDiff:function(t,e){return e.indexOf(t)>-1?!1:(e.push(t),e)},popNeed:function(t,e){if(e.length){if(!e.indexOf(t))return!1;e.splice(t,1)}},showRule:function(){this.ruleStatus=!this.ruleStatus,this.maskStatus=!this.maskStatus},getPrize:function(){t.ajax({url:a.Tool.url("/act/act170908/get_gift"),dataType:"JSON",type:"POST",data:"",success:function(t){if(!t.success)return s.show("活动尚未开始！试试其他活动"),!1;if(t.ret.is_weChat||t.ret.is_qq){if(1==t.ret.type)return s.show("您还有150元现金券未使用，请登录51公积金管家APP使用"),!1;if(2==t.ret.type)return s.show("成功领取奖励，请登录app领券，立即享受优惠"),!1;s.show(t.ret.msg||"请登录app领券，立即享受优惠",{callback:function(){window.location.href=t.ret.url}})}else{if(!l.isGjj)return s.show("请登录51公积金管家APP参与该活动"),!1;if(!t.ret.login)return s.show("未登录，请先登录APP",{callback:function(){n&&l.isGjj&&n.action("login")}}),!1;if(1==t.ret.type)return s.show("您还有150元现金券未使用，请先去使用",{callback:function(){window.location.href=t.ret.url}}),!1;2==t.ret.type&&s.show("成功领取奖励，立即享受优惠",{callback:function(){window.location.href=t.ret.url}})}},error:function(t){console.log(t)}})}}})}};r.start()});