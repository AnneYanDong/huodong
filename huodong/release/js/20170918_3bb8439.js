require.config(requireConfig),define(["jquery","ct","bridge","Vue-dev","jqueryEasing"],function(t,i,e,n){var s=Object.create(i.Prompt);s.create().build();var o=Object.create(i.Mask);o.create().build();var a=i.Tool.local(),u=i.Tool.userAgent(),c=Object.create(i.Cookie);i.Tool.buryPoint_v2(0),i.Tool.share(89,"qqymx");var r={start:function(){var e=this;i.Tool.setFont(),window.addEventListener("resize",i.Tool.debounce(i.Tool.setFont)),i.Tool.imgPreLoad({callback:function(){this.hintLog("图片加载完成");var t=null;clearTimeout(t),t=setTimeout(function(){e.init()},500)}}),t.ajax({type:"POST",dataType:"JSON",url:i.Tool.url("/act/request/activity"),data:JSON.stringify({source:i.Tool.userAgent().isGjj?1:0,tag:"89_1_0_33_进入页面"}),success:function(t){1==t.success}})},init:function(){window.vm=new n({el:".wp",data:{wpShow:!1,itemHeight:"",allowStart:!1,pageShow:!1,maskStatus:!1,ruleStatus:!1,giftStatus:!1,result:{},giftImg:""},mounted:function(){t(".vue-pre-loading").fadeOut(),this.pageShow=!0,this.$nextTick(function(){t.ajax({type:"POST",dataType:"json",url:"test.php",data:JSON.stringify({}),success:function(t){1==t.success?0==t.lottery?(vm.setItemInfo(),vm.initAnim()):1==t.lottery&&(s.show("您已经抽过奖了"),vm.$set(vm.result,"gift",t.ret),vm.allowStart=!0,vm.startAnim()):s.show(t.msg||"抽奖失败，请联系客服咨询")}})})},watch:{result:{handler:function(){if(this.result&&this.result.gift&&this.result.gift.code)switch(this.result.gift.code){case"0500":this.giftImg="g-500"}},deep:!0}},methods:{setItemInfo:function(){this.itemHeight=t(".count-item")[0].getBoundingClientRect().height||t(".count-item").eq(0).height()},initAnim:function(){var i=this,e=i.itemHeight,n=10*e,s=i.createInitNum(),o=null;i.$nextTick(function(){t(".init-anim").each(function(a){t(this).delay(300*a).animate({backgroundPositionY:-(n+e*s[a])+"px"},{duration:1500,easing:"easeInOutCirc",complete:function(){clearTimeout(o),o=setTimeout(function(){t(".init-anim").addClass("question-mark"),t(".init-anim").css({backgroundPosition:"0px 0px"}),i.allowStart=!0},400)}})})})},startAnim:function(){var i=this,n=null,o=c.get("jianbing_customer_id");return e&&u.isGjj&&!/\d/g.test(o)?(s.show("请先登录APP",{callback:function(){e.action("login")}}),!1):i.allowStart?i.result&&i.result.gift&&i.result.gift.code?(this.maskStatus=!0,this.giftStatus=!0,!1):void t.ajax({type:"POST",dataType:"json",url:"test.php",data:JSON.stringify({}),success:function(e){1==e.success?(i.$set(i.result,"gift",e.ret),i.$nextTick(function(){t(".count-item").removeClass("question-mark");var e=i.itemHeight,s=i.result.gift.code.split(""),o=30*e;t(".count-item").each(function(a){t(this).delay(300*a).animate({backgroundPositionY:-(o+e*s[a])+"px"},{duration:2e3+s.length,easing:"easeInOutCirc",complete:function(){clearTimeout(n),n=setTimeout(function(){i.maskStatus=!0,i.giftStatus=!0},400)}})})})):s.show(e.msg||"抽奖失败，请联系客服咨询")}}):!1},goUrl:function(){this.result.gift&&(window.location.href=this.result.gift.url)},createInitNum:function(){for(var t=[],i=0;2>i;i++)t.push(Math.floor(10*Math.random()));return 0!=t[1]&&(t[0]=0),t[0]>1&&(t[0]=1),t},showRule:function(){this.ruleStatus=!this.ruleStatus,this.maskStatus=!this.maskStatus},closeGift:function(){this.maskStatus=!1,this.giftStatus=!1,this.ruleStatus=!1},share:function(){u.isGjj&&e&&e.action("quickIcon",{thumb:"https://r.51gjj.com/image/static/ico_title_share_dark.png",onclick:function(){e.action("ShareTimeline",{title:"5万元3分钟到账，抢1000元免息额度",desc:"抽多少免多少",thumb:"https://r.51gjj.com/act/release/img/20170918_wx_jyd.jpg",link:"https://"+a.host+"act/home/huodong/20170918/index.php"})}})}}})}};r.start()});