!function(e){function t(e){r.debug&&console.log("touchmove()"),e.preventDefault()}function o(e,t,o){return r.debug&&console.log("fix()"),0>e?o?t-1:0:e>=t?o?0:t-1:e}function n(e,t,o){r.debug&&console.log("move()");var n="0px",i="0px";"v"===t?i=o+"px":n=o+"px",e.style.cssText+=";-webkit-transform : translate3d("+n+", "+i+", 0px);transform : translate3d("+n+", "+i+", 0px);"}function i(e){console.log("init()");var t=e?e:{};for(var o in r)t.hasOwnProperty(o)||(t[o]=r[o]);var n=this;n.curIndex=-1,n.o=t,n.startY=0,n.movingFlag=!1,n.ele.classList.add("fullPage-wp"),n.parentEle=n.ele.parentNode;var i=t.page;0==i.indexOf(".")&&(i=i.substring(1,i.length)),n.pageEles=n.ele.getElementsByClassName(i);for(var s=0;s<n.pageEles.length;s++){var a=n.pageEles[s];a.classList.add("fullPage-page"),a.classList.add("fullPage-dir-"+t.dir)}n.pagesLength=n.pageEles.length,n.update(),n.initEvent(),n.start()}function s(e,t){t.debug&&console.log("Fullpage()"),this.ele=e,i.call(this,t)}var r={page:".page",start:0,duration:500,loop:!1,drag:!1,dir:"v",der:.1,change:function(){},beforeChange:function(){},afterChange:function(){},orientationchange:function(){},debug:!1};s.prototype.update=function(){if(this.o.debug&&console.log("update()"),"h"===this.o.dir){this.width=this.parentEle.offsetWidth;for(var e=0;e<this.pageEles.length;e++){var t=this.pageEles[e];t.style.width=this.width+"px"}this.ele.style.width=this.width*this.pagesLength+"px"}this.height=this.parentEle.offsetHeight;for(var e=0;e<this.pageEles.length;e++){var t=this.pageEles[e];t.style.height=this.height+"px"}this.moveTo(this.curIndex<0?this.o.start:this.curIndex)},s.prototype.initEvent=function(){this.o.debug&&console.log("initEvent()");var t=this,o=t.ele;o.addEventListener("touchstart",function(e){return t.status?t.movingFlag?0:(t.startX=e.targetTouches[0].pageX,t.startY=e.targetTouches[0].pageY,void t.o.debug):1}),o.addEventListener("touchend",function(e){if(!t.status)return 1;if(t.movingFlag)return 0;var o="v"===t.o.dir?(e.changedTouches[0].pageY-t.startY)/t.height:(e.changedTouches[0].pageX-t.startX)/t.width;t.o.debug;var n=o>t.o.der||o<-t.o.der?o>0?-1:1:0;t.moveTo(t.curIndex+n,!0)}),t.o.drag&&o.addEventListener("touchmove",function(e){if(!t.status)return 1;if(t.movingFlag)return t.startX=e.targetTouches[0].pageX,t.startY=e.targetTouches[0].pageY,0;var i=e.changedTouches[0].pageY-t.startY;(0==t.curIndex&&i>0||t.curIndex===t.pagesLength-1&&0>i)&&(i/=2);var s=e.changedTouches[0].pageX-t.startX;(0==t.curIndex&&s>0||t.curIndex===t.pagesLength-1&&0>s)&&(s/=2);var r="v"===t.o.dir?-t.curIndex*t.height+i:-t.curIndex*t.width+s;o.classList.remove("anim"),n(o,t.o.dir,r)}),e.addEventListener("orientationchange",function(){(180===e.orientation||0===e.orientation)&&t.o.orientationchange("portrait"),(90===e.orientation||-90===e.orientation)&&t.o.orientationchange("landscape")},!1),e.addEventListener("resize",function(){t.update()},!1)},s.prototype.holdTouch=function(){this.o.debug,document.addEventListener("touchmove",t)},s.prototype.unholdTouch=function(){this.o.debug,document.removeEventListener("touchmove",t)},s.prototype.start=function(){this.o.debug&&console.log("start()"),this.status=1,this.holdTouch()},s.prototype.stop=function(){this.o.debug&&console.log("stop()"),this.status=0,this.unholdTouch()},s.prototype.getCurIndex=function(){return this.o.debug&&console.log("getCurIndex()"),this.curIndex},s.prototype.moveTo=function(t,i){this.o.debug&&console.log("moveTo()");var s=this,r=s.ele,a=s.curIndex;if(t=o(t,s.pagesLength,s.o.loop),i?r.classList.add("anim"):r.classList.remove("anim"),t!==a){var g=s.o.beforeChange({next:t,cur:a});if(g===!1)return 1}s.movingFlag=!0,s.curIndex=t,n(r,s.o.dir,-t*("v"===s.o.dir?s.height:s.width)),t!==a&&s.o.change({prev:a,cur:t}),e.setTimeout(function(){if(s.movingFlag=!1,t!==a){s.o.afterChange({prev:a,cur:t});for(var e=0;e<s.pageEles.length;e++){var o=s.pageEles[e];e===t?o.classList.add("cur"):o.classList.remove("cur")}}},s.o.duration)},s.prototype.movePrev=function(e){this.o.debug&&console.log("movePrev()"),this.moveTo(this.curIndex-1,e)},s.prototype.moveNext=function(e){this.o.debug&&console.log("moveNext()"),this.moveTo(this.curIndex+1,e)},Element.prototype.fullpage=function(e){return new s(this,e)}}(window);